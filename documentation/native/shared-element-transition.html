<html>
<head>
    <title>Shared Element Transition</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
    <style>
      :root {
        --primary-color: #9cc3d5ff;
        --secondary-color: #0063b2ff;
      }    
    </style>
</head>
<body>
    <div id="banner">
      <a href="../../native"><img alt="logo" src="../../img/logo.png" /></a>
      <a href="../setup.html">React</a>
      <a href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="content">
        <div id="menu">
            <h2>
                <img alt="native" src="../../img/native.png" />
                React Native
            </h2>
            <div id="items">
                <a href="setup.html">Setup</a>
                <a href="hello-world.html">Hello World</a>
                <a href="push-navigation.html">Push Navigation</a>
                <a href="pop-navigation.html">Pop Navigation</a>
                <a href="navigation-bar.html">Navigation Bar</a>
                <a href="tab-bar.html">Tab Bar</a>
                <a href="sheet.html">Sheet</a>
                <a href="drawer.html">Drawer</a>
                <a href="floating-action-button.html">Floating Action Button</a>
                <a href="scene-navigation-lifecycle.html">Navigation Lifecycle</a>
                <a href="custom-animation.html">Custom Animation</a>
                <a href="shared-element-transition.html" class="selected">Shared Element Transition</a>
                <a href="deep-links.html">Deep Links</a>
                <a href="typescript.html">TypeScript</a>
                <a href="examples.html">Examples</a>
                <h3>Web</h3>
                <a href="web/setup.html">Setup</a>
                <a href="web/browser-history.html">Browser History</a>
                <a href="web/hyperlinks.html">Hyperlinks</a>
                <a href="web/examples.html">Examples</a>
            </div>
        </div>
        <div id="article">
            <h1>Shared Element Transition</h1>
            <p>
                Android and iOS both support shared element transitions, where you can smoothly animate between related Views across two scenes. The Navigation router exposes this functionality to React using the <code>SharedElement</code> component. To identify a pair of shareable elements, you wrap each one in a <code>SharedElement</code> component and give them both the same <code>name</code>.
            </p>
            <div class="Note">
                <h2>Note</h2>
                On Android, shared element transitions disable the predictive back gesture
            </div>
            <p>
                In our email example app, we smooth out the transition when a user opens an email by visually connecting the subject line on the 'inbox' scene with the open email on the 'mail' scene. We wrap the views on each scene inside a <code>SharedElement</code> component and give them both the same name.
            </p>
            <pre><code class="language-jsx">// The 'inbox' scene
&lt;Pressable
  onPress={() => {
    stateNavigator.navigate('mail', {id: id});
  }}>
  &lt;SharedElement name={'email' + id}>
    &lt;Text>Meeting invite&lt;/Text>
  &lt;/SharedElement>
&lt;/Pressable></code></pre>
            <pre><code class="language-jsx">// The 'mail' scene
&lt;SharedElement name={'email' + id}>
  &lt;Text>Meeting invite&lt;/Text>
  &lt;Text>Please come along to find out more about...&lt;/Text>
&lt;/SharedElement></code></pre>
            <p> 
                When you navigate between two <code>States</code>, the Navigation router calls the function you assign to the <code>sharedElements</code> prop of the destination <code>Scene</code> component. You return the shared name of the views that will participate in the transition. Return an array of names if sharing multiple elements. In our email example, we return the name we gave to the selected email.
            </p>
            <pre><code class="language-jsx">&lt;Scene stateKey="mail" sharedElements={data => 'email' + data.id}>&lt;Mail />&lt;/Scene></code></pre>
            <p>
                On Android, there's an untidy overlap as the outgoing subject line turns into the incoming email. We neaten it up by setting the <code>fadeMode</code> prop to 'through'. This fades out the subject and fades in the email. We apply the prop to both <code>SharedElement</code> components so that the fade reverses when the user returns to their inbox.
            </p>
            <pre><code class="language-jsx">&lt;SharedElement name={'email' + id} fadeMode="through"></code></pre>
            <p>
                Not all <a href="custom-animation.html">custom animations</a> work with shared element transitions. On Android, try the 'elevationScale' or 'hold' transitions on the the outgoing scene.
            </p>
            <pre><code class="language-jsx">&lt;Scene stateKey="inbox" crumbStyle={{type: 'elevationScale'}}>&lt;Inbox />&lt;/Scene></code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>