<html>
<head>
    <title>Navigation Bar</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
    <style>
      :root {
        --primary-color: #9cc3d5ff;
        --secondary-color: #0063b2ff;
      }    
    </style>
</head>
<body>
    <div id="banner">
      <a href="../../native"><img alt="logo" src="../../img/logo.png" /></a>
      <a href="../setup.html">React</a>
      <a href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="content">
        <div id="menu">
            <h2>
                <img alt="native" src="../../img/native.png" />
                React Native
            </h2>
            <div id="items">
                <a href="setup.html">Setup</a>
                <a href="hello-world.html">Hello World</a>
                <a href="push-navigation.html">Push Navigation</a>
                <a href="pop-navigation.html">Pop Navigation</a>
                <a href="navigation-bar.html" class="selected">Navigation Bar</a>
                <a href="tab-bar.html">Tab Bar</a>
                <a href="sheet.html">Sheet</a>
                <a href="drawer.html">Drawer</a>
                <a href="floating-action-button.html">Floating Action Button</a>
                <a href="scene-navigation-lifecycle.html">Navigation Lifecycle</a>
                <a href="custom-animation.html">Custom Animation</a>
                <a href="shared-element-transition.html">Shared Element Transition</a>
                <a href="deep-links.html">Deep Links</a>
                <a href="typescript.html">TypeScript</a>
                <a href="examples.html">Examples</a>
                <h3>Web</h3>
                <a href="web/setup.html">Setup</a>
                <a href="web/browser-history.html">Browser History</a>
                <a href="web/hyperlinks.html">Hyperlinks</a>
                <a href="web/examples.html">Examples</a>
            </div>
        </div>
        <div id="article">
            <h1>Navigation Bar</h1>
            <h2>Setting the Title</h2>
            <p>
                The Navigation router uses the underlying native APIs on Android and iOS to provide a native navigation bar that you can position at the top of each scene. The <code>title</code> prop of the <code>NavigationBar</code> component configures a scene's title.
            </p>
            <pre><code class="language-jsx">import {NavigationBar} from 'navigation-react-native';

&lt;NavigationBar title="Inbox" />
</code></pre>
            <p>
                You can customise the title view using the <code>TitleBar</code> component. In our email example app, we can add an image next to the 'inbox' title.
            </p>
            <pre><code class="language-jsx">import {TitleBar} from 'navigation-react-native';

&lt;NavigationBar>
  &lt;TitleBar>
    &lt;Text>Inbox&lt;/Text>
    &lt;Image src={require('./inbox.png')} />
  &lt;/TitleBar>
&lt;/NavigationBar>
</code></pre>
            <h2>Adding Buttons</h2>
            <p>
                Alongside the scene's title, you can add your own buttons using the <code>BarButton</code> component. You can pass your own text and image using the <code>title</code> and <code>image</code> props. Your buttons appear on the right or left of the navigation bar on iOS, depending on whether you wrap them in a <code>RightBar</code> or <code>LeftBar</code> component. On Android they  appear on the right of the navigation bar or in the overflow menu depending on the value you assign to the <code>show</code> prop. In our email example, we can add a 'compose' button to the right of the navigation bar that navigates to the 'compose' scene. We set the <code>systemItem</code> prop so it displays the inbuilt 'compose' icon on iOS.
            </p>
            <pre><code class="language-jsx">import {RightBar, BarButton} from 'navigation-react-native';

&lt;NavigationBar title="Inbox">
  &lt;RightBar>
    &lt;BarButton title="compose" systemItem="compose" onPress={() => {
      stateNavigator.navigate('compose');
    }} />
  &lt;/RightBar>
&lt;/NavigationBar>
</code></pre>
            <h2>Adding a Search Bar</h2>
            <p>
                The <code>SearchBar</code> component displays a search bar in the navigation bar. It calls the <code>onChangeText</code> prop whenever the search text changes. Any search results you render into the component's children are displayed in a new native screen that sits over the top of the current one. On Android, you need to set a <code>Material3</code> theme in styles.xml, for example, <code>Theme.Material3.Light.NoActionBar</code>. Android also expects a <code>navigationImage</code> prop on the <code>NavigationBar</code> component. We allow the user to search their inbox in our example application by adding a <code>SearchBar</code> component to the 'mail' scene.
            </p>
            <div class="Note">
                <h2>Note</h2>
                On Android, wrap the scene in a <code>View</code> component with <code>collapsable</code> set to 'false'. On iOS, wrap the scene in a <code>ScrollView</code> component with <code>contentInsetAdjustmentBehavior</code> set to 'automatic'
            </div>
            <pre><code class="language-jsx">import {SearchBar} from 'navigation-react-native';

&lt;NavigationBar title="Inbox">
  &lt;SearchBar
    toolbar={true}
    text={text}
    obscureBackground={false}
    onChangeText={setText}>
    &lt;ScrollView>
      {mails
        .filter(({message}) => message.indexOf(text) !== -1)
        .map(({id}) => (
          &lt;Button onPress={() => {
            stateNavigator.navigate('mail', {id})
          }} />
        ))}
    &lt;/ScrollView>
  &lt;/SearchBar>
&lt;/NavigationBar>
</code></pre>
            <p>
                If you don't want to navigate to a new scene when the user selects a search result, use the <code>active</code> and <code>onChangeActive</code> props of the <code>SearchBar</code> to close the search instead.
            </p>
            <p>
                You can still have a search bar on Android even if you're not using a <code>Material3</code> theme. The difference is that the search bar starts collapsed. Remove the <code>toolbar</code> prop from the <code>SearchBar</code> and add a <code>BarButton</code> with the <code>search</code> prop set to 'true'. Pressing the button expands the search bar. 
            </p>
            <pre><code class="language-jsx">&lt;BarButton title="search" search={true} /></code></pre>
            <h2>Updating the Status Bar</h2>
            <p>
                To update the status bar, render a <code>StatusBar</code> component in the navigation bar. The  <code>barTintColor</code> prop controls the background color on Android. On iOS, it inherits the background color of the navigation bar. We add a <code>StatusBar</code> to the 'inbox' scene to change the status bar text and icon color to white.
            </p>
            <pre><code class="language-jsx">import {StatusBar} from 'navigation-react-native';

&lt;NavigationBar title="Inbox">
  &lt;StatusBar tintStyle="light" />
&lt;/NavigationBar>
</code></pre>
            <h2>Adding an Action Bar on Android</h2>
            <p>
                The <code>ActionBar</code> component displays a view in the navigation bar on Android. It's the child of a <code>BarButton</code> component. When the user taps the button the <code>ActionBar</code> children render in place of the title. It's like the <code>SearchBar</code> component but for your own custom views. We add a view to the navigation bar on the 'mail' scene so users can locate a specific word in their email. Alongside the input we render an arrow that moves the user to the next match.
            </p>
            <pre><code class="language-jsx">import {ActionBar} from 'navigation-react-native';

&lt;BarButton title="find" show="always">
  &lt;ActionBar>
    &lt;View style={{flexDirection: 'row'}}>
      &lt;TextInput onChangeText={text => find(text)} />
      &lt;TouchableHighlight onPress={() => findNextMatch()}>
        &lt;Image source={require('./arrow.png')} />
      &lt;/TouchableHighlight>
    &lt;/View>
  &lt;/ActionBar>
&lt;/BarButton>
</code></pre>
            <h2 id="scrolling">Scrolling the Navigation Bar on Android</h2>
            <p>
                By wrapping the 'inbox' scene in a <code>CoordinatorLayout</code> component we prevent the navigation bar from getting in the way on Android. The navigation bar gradually scrolls offscreen as the user moves down through their inbox. As soon as the user starts to scroll back up the navigation bar reappears. This functionality is only available when nested scrolling is enabled on the React Native <code>ScrollView</code>.
            </p>
            <pre><code class="language-jsx">import {CoordinatorLayout} from 'navigation-react-native';

&lt;CoordinatorLayout>
  &lt;NavigationBar title="Inbox" />
  &lt;ScrollView nestedScrollEnabled={true} />
&lt;/CoordinatorLayout>
</code></pre>
            <h2>Collapsing the Title</h2>
            <p>
                We can draw attention to our 'inbox' scene by enlarging the title. As the user scrolls down the large title collapses back to its normal size. We set the <code>largeTitle</code> prop to true and assign an initial expanded height. Then we wrap the scene in a <code>CoordinatorLayout</code> component and enable nested scrolling. On Android, the navigation bar needs a <code>CollapsingBar</code> child. Any content of the <code>CollapsingBar</code> collapses along with the title.
            </p>
            <pre><code class="language-jsx">import {CollapsingBar} from 'navigation-react-native';

&lt;CoordinatorLayout>
  &lt;NavigationBar title="Inbox" largeTitle={true} style={{height: 120}}>
    &lt;CollapsingBar />
  &lt;/NavigationBar>
  &lt;ScrollView nestedScrollEnabled={true} />
&lt;/CoordinatorLayout>
</code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>