<html>
<head>
    <title>State Navigation</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../css/prism.css">
    <link rel="stylesheet" href="../css/navigation.css">
</head>
<body>
    <div id="banner">
        <div>
            <a href="../index.html">Navigation</a>
            <a href="hello-world.html" class="selected">Docs</a>
            <a href="../download/index.html">Download</a>
            <a id="github" href="https://github.com/grahammendick/navigation">GitHub source</a>
        </div>
    </div>
    <div id="content">
        <div id="menu">
            <a href="hello-world.html">Hello World</a>
            <a href="thinking-in-navigation.html">Thinking in Navigation</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="state-navigation.html" class="selected">A. State Navigation</a>
            <a href="navigation-data.html">B. Navigation Data</a>
            <a href="routes.html">C. Routes</a>
            <a href="examples.html">Examples</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="current-data.html">Current Data</a>
            <a href="html5-history.html">HTML5 History</a>
            <a href="navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="reusable-components.html">Reusable Components</a>
            <div class="separator"></div>
            <h2>MOBILE</h2>
            <a href="mobile/hello-world.html">Hello World</a>
            <a href="mobile/animated-navigation.html">Animated Navigation</a>
            <a href="mobile/non-animated-navigation.html">Non-Animated Navigation</a>
            <a href="mobile/clean-urls.html">Clean Urls</a>
            <a href="mobile/shared-element-navigation.html">Shared Element Navigation</a>
            <a href="mobile/examples.html">Examples</a>
            <div class="separator"></div>
            <h2>NATIVE</h2>
            <a href="native/setup.html">Setup</a>
            <a href="native/hello-world.html">Hello World</a>
            <a href="native/push-navigation.html">Push Navigation</a>
            <a href="native/pop-navigation.html">Pop Navigation</a>
            <a href="native/custom-animation.html">Custom Animation (Android)</a>
            <a href="native/tabs-setup.html">Tabs Setup (iOS)</a>
            <a href="native/examples.html">Examples</a>
        </div>
        <div id="article">
            <h1>State Navigation</h1>
            <h2>Defining States</h2>
            <p>
                The Navigation router helps you navigate between views in your application. To get started, create a new <code>StateNavigator</code> passing in an array of <code>States</code> that represent the views in your application. Assign the empty route to the <code>State</code> you want to show when the application first loads. You can put off assigning the other routes until your application is up and running. In an email application we might have <code>States</code> representing the inbox and the views for reading and writing an email.
            </p>
            <pre><code class="language-jsx">var stateNavigator = new Navigation.StateNavigator([
  {key: 'inbox', route: ''},
  {key: 'mail'},
  {key: 'compose'}
]);</code></pre>
            <h2 id="defining-views">Defining Views</h2>
            <p>
                Each <code>State</code> needs a matching view which youâ€™ll display when that <code>State</code> is active. You define the view in a function attached to the <code>renderView</code> property of the <code>State</code>. We can define two of the views in the email example using <code>Inbox</code> and <code>Compose</code> components.
            </p>
            <pre><code class="language-jsx">stateNavigator.states.inbox.renderView = function() {
  return &lt;Inbox />;
};

stateNavigator.states.compose.renderView = function() {
  return &lt;Compose />;
};</code></pre>
            <p>
                Calling <code>start</code> on the <code>stateNavigator</code> activates the <code>State</code> whose route matches with the browser Url. In our example, the 'inbox' <code>State</code> will be active on first load.
            </p>
            <pre><code class="language-jsx">stateNavigator.start();</code></pre>
            <h2>Rendering</h2>
            <p>
                It's your job to keep the UI up to date by calling the <code>renderView</code> function on the active <code>State</code>. You render a <code>NavigationContext Consumer</code> with a child <code>prop</code> that returns the view of the passed in <code>State</code>. Wrapping the <code>Consumer</code> inside a <code>NavigationHandler</code> ensures that every time the <code>State</code> changes your child render <code>prop</code> is called with the new <code>State</code>. Make sure you pass <code>data</code> into the <code>renderView</code> function otherwise this rendering code will break when it comes to passing <a href="navigation-data.html">navigation data</a> between States.
            </p>
            <pre><code class="language-jsx">ReactDOM.render(
  &lt;NavigationReact.NavigationHandler stateNavigator={stateNavigator}>
    &lt;NavigationReact.NavigationContext.Consumer>
      {({ state, data }) => state.renderView(data)}
    &lt;/NavigationReact.NavigationContext.Consumer>
  &lt;/NavigationReact.NavigationHandler>,
  document.getElementById('app')
);</code></pre>
            <h2>Navigating</h2>
            <p>
                <code>States</code> become active when you navigate to them. One way to navigate to a <code>State</code> is with a Hyperlink. The Navigation router encourages you to think about <code>States</code> rather than Urls. You can build Hyperlinks using the <code>NavigationLink</code> component, passing in the destination <code>State</code> via the <code>stateKey prop</code>.
            </p>
            <pre><code class="language-jsx">&lt;NavigationReact.NavigationLink stateKey="compose">
  Compose Mail
&lt;/NavigationReact.NavigationLink></code></pre>
            <p>
                When Hyperlinks aren't appropriate, you can navigate programmatically by passing the <code>State key</code> into the <code>navigate</code> function on the <code>stateNavigator</code>. You can access the <code>stateNavigator</code> inside the child render <code>prop</code> of a <code>NavigationContext Consumer</code>.
            </p>
            <pre><code class="language-jsx">&lt;NavigationReact.NavigationContext.Consumer>
  {({ stateNavigator }) => (
    &lt;div onClick={() => stateNavigator.navigate('compose')}>Compose Mail&lt;/div>
  )}
&lt;/NavigationReact.NavigationContext.Consumer>
</code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../js/prism.js"></script>
</body>
</html>