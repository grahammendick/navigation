<html>
<head>
    <title>Animated Navigation</title>
    <meta name="viewport" content="width=device-width">
    <style>
      :root {
        --primary-color: #f9858b;
        --secondary-color: #ed335f;
      }    
    </style>
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
</head>
<body>
    <div id="banner">
      <a href="../.."><img alt="logo" src="../../img/logo.png" /></a>
      <a href="../native/setup.html">React Native</a>
      <a href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="content">
        <div id="menu">
          <h2>
            <img alt="web" src="../../img/web.png" />
            React
          </h2>
          <div id="items">
            <a href="../setup.html">Setup</a>
            <a href="../hello-world.html">Hello World</a>
            <a href="../state-navigation.html">State Navigation</a>
            <a href="../navigation-data.html">Navigation Data</a>
            <a href="../routes.html">Routes</a>
            <a href="../current-data.html">Current Data</a>
            <a href="../html5-history.html">HTML5 History</a>
            <a href="../navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="../reusable-components.html">Reusable Components</a>
            <a href="../typescript.html">TypeScript</a>
            <a href="../rsc.html">RSC</a>
            <a href="../examples.html">Examples</a>
            <h3>Mobile</h3>
            <a href="setup.html">Setup</a>
            <a href="hello-world.html">Hello World</a>
            <a href="animated-navigation.html" class="selected">Animated Navigation</a>
            <a href="clean-urls.html">Clean Urls</a>
            <a href="scene-navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="shared-element-navigation.html">Shared Element Navigation</a>
            <a href="examples.html">Examples</a>
          </div>
        </div>
        <div id="article">
            <h1>Animated Navigation</h1>
            <h2>Dropping Breadcrumbs</h2>
            <p>
                The Navigation router brings native-like navigation to the web. It builds a stack of the scenes a user visits. You can navigate back to any scene in the stack and animate the scenes as they move through and off the stack. The Navigation router remembers the visited scenes by dropping a breadcrumb at each one, like the fairy-tale characters Hansel and Gretel. After following the <a href="setup.html">Setup instructions</a>, you enable the breadcrumb trail by setting <code>trackCrumbTrail</code> to true against each <code>State</code> in the <code>StateNavigator</code>. In an email application, we set <code>trackCrumbTrail</code> to true on the 'mail' <code>State</code> so that we can animate out the 'inbox' scene and animate in the 'mail' scene when the user opens an email.
            </p>
            <pre><code class="language-jsx">const stateNavigator = new StateNavigator([
  {key: 'inbox', route: ''},
  {key: 'mail', trackCrumbTrail: true}
]);</code></pre>
            <h2>Animating</h2>
            <p>
                The <code>NavigationStack</code> component renders the scenes in the stack. It lets you animate the scenes as they progress through the stack. Any scene that isn't the current one is either unmounted or a crumb. It's unmounted when it's not on the stack yet and it's a crumb when it's anywhere in the stack apart from on top (in the breadcrumb trail).
            </p>
            <p>
                You assign keyframe animations to the unmount and crumb style props. The <code>NavigationStack</code> runs the animations as the scene moves from unmounted or crumb to current and back again. In our email example, we'll make the unmount and crumb keyframes start at opacity 0 and finish at 1. When the user opens a mail, the 'inbox' scene fades out as it becomes a crumb and the 'mail' scene fades in as it's mounted.
            </p>
            <pre><code class="language-jsx">&lt;NavigationStack
  unmountStyle={[{opacity: 0}, {opacity: 1}]}
  crumbStyle={[{opacity: 0}, {opacity: 1}]}></code></pre>
            <h2 id="navigating-back">Navigating Back</h2>
            <p>
                You can navigate back to a visited scene using the <code>NavigationBackLink</code>. The <code>distance</code> prop indicates how many scenes to go back. In our email example, we add a <code>NavigationBackLink</code> to the 'mail' scene. A <code>distance</code> of 1 allows the user to return to their inbox. When they tap the Hyperlink, the 'mail' scene fades out as it's unmounted and the 'inbox' scene fades back in as it's mounted.
            </p>
            <pre><code class="language-jsx">import {NavigationBackLink} from 'navigation-react';

&lt;NavigationBackLink distance={1}>
  Back to Inbox
&lt;/NavigationBackLink></code></pre>
            <p>
                You can also navigate back programmatically by passing the distance into the <code>navigateBack</code> function on the <code>stateNavigator</code>.
            </p>
            <pre><code class="language-jsx">import {useNavigationEvent} from 'navigation-react';

const {stateNavigator} = useNavigationEvent();

&lt;div onClick={() => stateNavigator.navigateBack(1}>
  Back to Inbox
&lt;/div></code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>