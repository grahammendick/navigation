<html>
<head>
    <title>Navigation Lifecycle</title>
    <meta name="viewport" content="width=device-width">
    <style>
        :root {
          --primary-color: #f9858b;
          --secondary-color: #ed335f;
        }    
      </style>
      <link rel="stylesheet" href="../../css/prism.css">
      <link rel="stylesheet" href="../../css/navigation.css">
  </head>
  <body>
      <div id="banner">
        <a href="../.."><img alt="logo" src="../../img/logo.png" /></a>
        <a href="../native/setup.html">React Native</a>
        <a href="https://github.com/grahammendick/navigation">GitHub</a>
      </div>
      <div id="content">
          <div id="menu">
            <h2>
              <img alt="web" src="../../img/web.png" />
              React
            </h2>
            <div id="items">
              <a href="../setup.html">Setup</a>
              <a href="../hello-world.html">Hello World</a>
              <a href="../state-navigation.html">State Navigation</a>
              <a href="../navigation-data.html">Navigation Data</a>
              <a href="../routes.html">Routes</a>
              <a href="../current-data.html">Current Data</a>
              <a href="../rsc.html">RSC</a>
              <a href="../html5-history.html">HTML5 History</a>
              <a href="../navigation-lifecycle.html">Navigation Lifecycle</a>
              <a href="../reusable-components.html">Reusable Components</a>
              <a href="../typescript.html">TypeScript</a>
              <a href="../examples.html">Examples</a>
              <h3>Mobile</h3>
              <a href="setup.html">Setup</a>
              <a href="hello-world.html">Hello World</a>
              <a href="animated-navigation.html">Animated Navigation</a>
              <a href="clean-urls.html">Clean Urls</a>
              <a href="scene-navigation-lifecycle.html" class="selected">Navigation Lifecycle</a>
              <a href="shared-element-navigation.html">Shared Element Navigation</a>
              <a href="examples.html">Examples</a>
            </div>
          </div>
          <div id="article">
            <h1>Navigation Lifecycle</h1>
            <p>
                When the user navigates from scene A to scene B then the first scene isn't unmounted. It's still mounted because it stays in the stack. When the user navigates back then scene B is popped and scene A reappears. The Navigation router has a <code>useNavigated</code> hook that tells you when the user navigates to scene A. It also has a <code>useUnloaded</code> hook that tells you when the user navigates away from scene A to scene B.
            </p>
            <p>
                The 'inbox' scene in our example app polls an endpoint to check if the user has any new mail. We can use the scene lifecycle hooks to make sure we only poll when the user is browsing their inbox. We stop the polling when the user navigates to an email and then start it again when they go back to their inbox.
            </p>
            <pre><code class="language-js">import {useNavigated, useUnloaded} from 'navigation-react-mobile';

const Inbox = () => (
  useNavigated(() => {
    // Start polling for new emails
  });
  useUnloaded(() => {
    // Stop polling for new emails
  });</code></pre>
        </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>